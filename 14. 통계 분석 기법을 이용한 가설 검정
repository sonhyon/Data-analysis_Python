t 검정 - 두 집단의 평균 비교하기
#compact 자동차와 suv 자동차의 도시 연비 t검정
import pandas as pd
mpg = pd.read_csv('mpg.csv')

mpg.query('category in ["compact", "suv"]) \
   .groupby('category', as_index = False) \
   .agg(n    = ('category', 'count'),
        mean = ('cty', 'mean'))

compact  = mpg.query('category == "compact"')['cty']
suv = mpg.query('category == "suv"')['cty']

from scipy import stats
stats.ttest_ind(compact, suv, euqal_var = True)

#일반 휘발유와 고급 휘발유의 도시 연비 t검정
mpg.query('fl in ["r", "p"]') \
   .groupby('fl', 'count'),
   .agg(n    = ('fl', 'count'),
        mean = ('cty', 'mean'))

regular = mpg.query('fl == "r"')['cty']
premium = mpg.query('fl == "p"')['cty']

stats.ttest_ind(regular, premium, equal_var = True)
